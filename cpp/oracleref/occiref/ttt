--------------------------------------------------------------------------------
I1 cache:         32768 B, 64 B, 8-way associative
D1 cache:         32768 B, 64 B, 8-way associative
LL cache:         6291456 B, 64 B, 12-way associative
Command:          ./occi 100
Data file:        cachegrind.out
Events recorded:  Ir I1mr ILmr Dr D1mr DLmr Dw D1mw DLmw
Events shown:     Ir I1mr ILmr Dr D1mr DLmr Dw D1mw DLmw
Event sort order: Ir I1mr ILmr Dr D1mr DLmr Dw D1mw DLmw
Thresholds:       0.1 100 100 100 100 100 100 100 100
Include dirs:     
User annotated:   /mnt/winshared/it/cpp/tests/oracleref/occiref/occi.cpp
Auto-annotation:  off

--------------------------------------------------------------------------------
        Ir    I1mr   ILmr         Dr    D1mr    DLmr        Dw   D1mw   DLmw 
--------------------------------------------------------------------------------
70,624,029 244,248 15,895 15,666,631 227,251 108,324 6,780,467 84,340 52,809  PROGRAM TOTALS

--------------------------------------------------------------------------------
        Ir   I1mr  ILmr        Dr   D1mr   DLmr      Dw   D1mw   DLmw  file:function
--------------------------------------------------------------------------------
29,235,492    521   197 3,732,365     28     11 771,082      0      0  ???:r0_sha512_block_k8_64_fast
 4,082,900  9,100    91 1,457,500    623      0 292,000      2      0  ???:kpuscn0
 3,613,839    439    47 1,189,027 42,691  5,535 520,686    741    112  ???:do_lookup_x
 2,556,180    265    25   474,585  7,235  4,899 221,706    575     55  ???:_dl_lookup_symbol_x
 2,487,283     42    21 1,360,332      0      0  16,476      0      0  ???:r_crn_kdf_pbkdf2_derive_key
 2,328,703    136    66   646,807 85,015 78,096 234,989 34,154 32,377  ???:_dl_relocate_object
 1,923,441  1,198    23   460,188  9,957  8,995 428,016 10,900  9,017  ???:memcpy
 1,525,014     30    10    73,791      0      0 524,736      1      0  ???:r0_sha512_final
 1,158,368     54    51   148,355    189      1 202,894     14      0  ???:ttcdty
 1,141,242  5,342    37   277,389    437      2 205,964  3,103     11  ???:kghalo
 1,078,200    200     2   346,000    600      0 193,000      0      0  ???:lxwctex
   516,537     16     6   139,383      0      0 139,383      0      0  ???:r0_digest_g128b_final_small
   491,438  4,550    18   117,812  1,110      0  70,711    116      0  ???:kghfrmrg
   483,648  2,561    13    87,196    468      0  27,523    417      1  ???:kghfnd_in_free_lists
   471,623    221    10   172,406  2,513  1,129  50,998    504     83  ???:check_match.12447
   468,452  1,820    19    29,012    886      6 205,383  9,390  4,038  ???:__memset_x86_64
   405,168     78     6   128,819  2,187    368       1      0      0  ???:strcmp
   403,900  2,428    12    93,701    338      0  64,942    311      0  ???:kghfre
   401,400    709   131    41,193      1      0  10,026      1      0  ???:r0_sha256_block_k8_64_fast
   388,845  3,590    40    56,083  1,338      0  56,945  1,475    986  ???:_int_malloc
   385,709     18     6   114,888      0      0  82,060      0      0  ???:r0_digest_g128u_update_small
   380,838    403     4   108,810      0      0  40,806    101      0  ???:lxoWriWChar
   344,138    901     9   129,478     73      0  92,001  1,079      0  ???:kpuhhalo
   341,059    889     7    56,660      0      0  54,404  1,338     71  ???:kghbshrt
   308,510  7,111    65   110,652  5,188      4  44,411  1,218      0  ???:ttcpip
   304,435 24,214 1,549   279,475 17,838    429   9,518     27     15  ???:???
   288,838    303     2   106,414      3      0  60,808      0      0  ???:lxwalpx
   288,800    200     2   106,400      0      0  60,800      0      0  ???:lxwlowx
   275,775     55    16    70,990    238     64  18,765     22      0  ???:LdiMatchString
   264,736     17     2    99,276      0      0  49,638      0      0  ???:R1_DGST_CTX_restore_snapshot
   249,083  1,214     6    99,033      6      0  66,022    297      0  ???:kpuhhfre
   224,784     15     2    87,416      0      0  24,976      0      0  ???:R1_DGST_CTX_update
   222,660     13     2    86,590      0      0  24,740      0      0  ???:R1_DGST_CTX_final
   216,053      8     8    82,248    500    445  25,262      0      0  ???:ri_btree_insert
   208,679  1,114    14    56,165  2,533  1,778  16,114    396      0  ???:ttcclrn
   207,360  1,940    21    67,917      0      0  37,838    519      0  ???:ttcc2u
   195,757    106     1   113,333      3      0  10,303      0      0  ???:lxmspax
   180,572      6     3    16,420      2      1  73,866      0      0  ???:r0_sha512_init
   180,120     24     8    73,944      6      0  24,648      3      0  ???:lxoCvChar
   173,134  9,283    87    59,433    552      6  31,061    841      0  ???:ttcdrv
   166,766  2,204    22    55,340    104      0  30,797    400      0  ???:ttcoac
   159,682  2,071    20    42,810  1,291      0  19,288     27      0  ???:_int_free
   151,813     16     7    57,432      2      1  28,721      0      0  ???:ri_cr_mac_init
   150,000  2,300    23    27,200    404      1  43,000      2      0  ???:kpubsuuc
   148,523     24    13    33,255  2,519  2,146      33      3      0  ???:_dl_addr
   144,163    163     6    32,205      8      0  63,976    318      4  ???:__sigsetjmp
   135,102     59     4    37,768  1,016      9  21,685     35     18  ???:_dl_name_match_p
   129,299  6,099    38    52,434  1,491      5  17,270    726      0  ???:upirtrc
   127,937     15     2    45,397      0      0  20,635      0      0  ???:r0_hmac_final
   126,900    480     5    39,182    616      0  12,056     58     17  ???:malloc
   122,866    174     7    46,651  5,514  1,754  16,580     97      8  ???:_dl_fixup
   121,336     88    12    21,121     20      6  15,645     10      8  ???:nlnvgst
   120,200  2,400    24    33,500    411      0  15,700      0      0  ???:ttcacs
   116,752  1,605    12    30,297      0      0  21,967      0      0  ???:ttci2n
   116,400  1,500    15    36,900      3      0  16,200      5      0  ???:kpubndp2
   115,253    175    12    16,973     59      5   9,173      7      3  ???:____strtoul_l_internal
   106,878    220    18    25,924      1      0  29,127    302      0  ???:ttcclr
   105,911  2,871    39    26,037    222      5  22,065    101      0  ???:kpughndl0
    99,816     68     9    16,592      0      0   8,232      1      0  ???:_nss_files_parse_pwent
    99,200 10,100   100    32,200  1,433      0  20,200    712      0  ???:kpuexec
    96,581  1,023    10     6,328    103      1     507      0      0  ???:kgghash
    94,940     69    31    31,300     20     17  20,939     65      0  ???:Ldisnf
    84,084    210     2    42,042      0      0  11,466      0      0  ???:lxmalpx
    79,728    204     2    39,864      2      0  10,872      0      0  ???:lxmdigx
    78,795     13     2    24,885      0      0   4,149      0      0  ???:r0_hmac_init
    78,352      2     2     9,220      1      0       0      0      0  ???:numa_bitmask_weight
    75,542  1,317     8    28,240      5      0  20,474    596      0  ???:kpuhhaloc
    73,890      2     1    41,050      3      1  24,630      0      0  ???:r0_digest_g128_init_small
    73,822  5,628    64    23,716     16      1   5,051    104      0  ???:kpugattr
    72,670  3,566    24    17,559    238      0  11,929    648      1  ???:kghfnd

--------------------------------------------------------------------------------
-- User-annotated source: /mnt/winshared/it/cpp/tests/oracleref/occiref/occi.cpp
--------------------------------------------------------------------------------
   Ir I1mr ILmr  Dr D1mr DLmr    Dw D1mw DLmw 

-- line 7 ----------------------------------------
    .    .    .   .    .    .     .    .    .  
    .    .    .   .    .    .     .    .    .  class  occidml
    .    .    .   .    .    .     .    .    .  {
    .    .    .   .    .    .     .    .    .  private:
    .    .    .   .    .    .     .    .    .      Environment *env;
    .    .    .   .    .    .     .    .    .      Connection *conn;
    .    .    .   .    .    .     .    .    .      Statement *stmt;
    .    .    .   .    .    .     .    .    .  public:
    9    1    1   0    0    0     7    0    0      occidml (string user, string passwd, string db)
    .    .    .   .    .    .     .    .    .      {
    8    1    0   1    1    0     2    1    0          env = Environment::createEnvironment (Environment::DEFAULT);
   15    2    1  10    2    1     2    1    0          conn = env->createConnection (user, passwd, db);
    4    0    0   3    0    0     0    0    0      }
    .    .    .   .    .    .     .    .    .  
    5    1    0   0    0    0     3    0    0      ~occidml ()
    .    .    .   .    .    .     .    .    .      {
   12    1    0   8    2    0     1    0    0          env->terminateConnection (conn);
    4    1    0   2    1    0     1    0    0          Environment::terminateEnvironment (env);
    2    0    0   2    0    0     0    0    0      }
    .    .    .   .    .    .     .    .    .  
1,200  200    2   0    0    0 1,000    0    0      void insertBind (string c1, int c2, string c3, int c4, string c5, string c6)
    .    .    .   .    .    .     .    .    .      {
1,200  100    1   0    0    0   300    0    0          string sqlStmt = "INSERT INTO T_USI_BIGTXTDATA\
    .    .    .   .    .    .     .    .    .                            (PFWRKDATE, BIGTXTIDEX, BIGTXTTYPE, BIGTXTLEN, BIGTXTCNT, STATE) \
    .    .    .   .    .    .     .    .    .                            VALUES(:PFWRKDATE, :BIGTXTIDEX, :BIGTXTTYPE, :BIGTXTLEN, :BIGTXTCNT, :STATE)";
1,300  100    1 700  103    1   200    2    0          stmt=conn->createStatement (sqlStmt);
    .    .    .   .    .    .     .    .    .          try{
1,100    0    0 700  100    1   100    0    0              stmt->setString (1, c1);
1,100  100    1 700    1    0   100    0    0              stmt->setInt (2, c2);
1,100  100    1 700    0    0   100    0    0              stmt->setString (3, c3);
1,100    0    0 700    0    0   100    0    0              stmt->setInt (4, c4);
1,100  100    1 700    0    0   100    0    0              stmt->setString (5, c5);
1,100  100    1 700  100    0   100    0    0              stmt->setString (6, c6);
2,800  300    2 600  100    1   500    0    0              stmt->executeUpdate ();
    .    .    .   .    .    .     .    .    .          }catch(SQLException ex)
    .    .    .   .    .    .     .    .    .          {
    .    .    .   .    .    .     .    .    .              cout<<"Exception thrown for insertBind"<<endl;
    .    .    .   .    .    .     .    .    .              cout<<"Error number: "<<  ex.getErrorCode() << endl;
    .    .    .   .    .    .     .    .    .              cout<<ex.getMessage() << endl;
    .    .    .   .    .    .     .    .    .          }
    .    .    .   .    .    .     .    .    .  
    .    .    .   .    .    .     .    .    .          //通过此处阻塞返现，这个类是一次性提交的, 为了测试性能这里增加一个commit
    .    .    .   .    .    .     .    .    .          //string useless;
    .    .    .   .    .    .     .    .    .          //getline(cin, useless);
    .    .    .   .    .    .     .    .    .  
  900  100    1 600  202    0   100    0    0          conn->commit();
1,600  200    1 800    1    0   200    0    0          conn->terminateStatement (stmt);
    .    .    .   .    .    .     .    .    .          //getline(cin, useless);
  500    0    0 400  100    0     0    0    0      }
    .    .    .   .    .    .     .    .    .  
    .    .    .   .    .    .     .    .    .      /**
    .    .    .   .    .    .     .    .    .       * Inserting a row into the table.
    .    .    .   .    .    .     .    .    .       */
    .    .    .   .    .    .     .    .    .      void insertRow ()
    .    .    .   .    .    .     .    .    .      {
    .    .    .   .    .    .     .    .    .          string sqlStmt = "INSERT INTO author_tab VALUES (111, 'ASHOK')";
    .    .    .   .    .    .     .    .    .          stmt = conn->createStatement (sqlStmt);
-- line 63 ----------------------------------------
-- line 221 ----------------------------------------
    .    .    .   .    .    .     .    .    .          stmt->closeResultSet (rset);
    .    .    .   .    .    .     .    .    .          conn->terminateStatement (stmt);
    .    .    .   .    .    .     .    .    .      }
    .    .    .   .    .    .     .    .    .  
    .    .    .   .    .    .     .    .    .  }; // end of class  occidml
    .    .    .   .    .    .     .    .    .  
    .    .    .   .    .    .     .    .    .  
    .    .    .   .    .    .     .    .    .  int main (int argc, char *argv[])
   10    1    1   0    0    0     8    0    0  {
   12    1    1   0    0    0     3    0    0    string user = "spring_oracle";
   12    2    2   0    0    0     3    0    0    string passwd = "123123";
   12    1    1   0    0    0     3    0    0    string db = "MYDBORACLE";
    .    .    .   .    .    .     .    .    .    try{
    9    1    1   3    1    0     2    0    0        int iLoop = argc > 1? atoi(argv[1]): 1;
    .    .    .   .    .    .     .    .    .  
   40    5    4   0    0    0     9    1    0        occidml *demo = new occidml (user, passwd, db);
  505    1    1 201  100    0     0    0    0        for (;iLoop > 0; iLoop--)
    .    .    .   .    .    .     .    .    .        {
    .    .    .   .    .    .     .    .    .            //demo->displayAllRows (iLoop);
7,300  900    7 200    0    0 1,800    0    0            demo->insertBind ("22220831", iLoop, "testtype", 10, "testtxt", "TEST");
    .    .    .   .    .    .     .    .    .            //demo->updateRow (iLoop);
    .    .    .   .    .    .     .    .    .            //demo->deleteRow (iLoop);
    .    .    .   .    .    .     .    .    .        }
    8    1    0   1    0    0     2    0    0        delete (demo);
    .    .    .   .    .    .     .    .    .    }
    .    .    .   .    .    .     .    .    .    catch (SQLException ex){
    .    .    .   .    .    .     .    .    .      cout << ex.getMessage() << endl;
   12    2    2   0    0    0     3    0    0    }
   27    3    2  12    3    0     7    0    0  }

--------------------------------------------------------------------------------
Ir I1mr ILmr Dr D1mr DLmr Dw D1mw DLmw 
--------------------------------------------------------------------------------
 0    1    0  0    0    0  0    0    0  percentage of events annotated

